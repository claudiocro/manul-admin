{"version":3,"sources":["../../src/hocs/with_collection_props.js"],"names":["composer","onData","context","collectionName","props","adminContext","getComponent","publicationUtils","config","collections","publications","getPublications","collection","schema","colConfig","Component","type"],"mappings":";;;;;;;;;;;;;AACA;;;;;;AAGO,IAAMA,WAAW,SAAXA,QAAW;AAAA,SAAQ,gBAAwCC,MAAxC,EAAmD;AAAA,QAAhDC,OAAgD,QAAhDA,OAAgD;AAAA,QAAvCC,cAAuC,QAAvCA,cAAuC;AAAA,QAApBC,KAAoB;;AAAA,mBAK7EF,SAL6E;AAAA,yCAE/EG,YAF+E;AAAA,QAG7EC,YAH6E,yBAG7EA,YAH6E;AAAA,QAG/DC,gBAH+D,yBAG/DA,gBAH+D;AAAA,QAG7CC,MAH6C,yBAG7CA,MAH6C;;AAAA,QAMzEC,WANyE,GAMzDD,MANyD,CAMzEC,WANyE;;AAOjF,QAAMC,eAAeH,iBAAiBI,eAAjB,CAAiCR,cAAjC,CAArB;;AAPiF,gCAQpCM,YAAYN,cAAZ,CARoC;AAAA,QAQzES,UARyE,yBAQzEA,UARyE;AAAA,QAQ7DC,MAR6D,yBAQ7DA,MAR6D;AAAA,QAQlDC,SARkD;;AASjF,QAAMC,YAAYT,aAAa,EAAEH,8BAAF,EAAkBa,UAAlB,EAAb,CAAlB;AACAf,WAAO,IAAP;AACEc,0BADF;AAEEH,4BAFF;AAGEC,cAAQA,UAAU,sBAASD,UAAT,EAAqB,cAArB,CAHpB;AAIEF;AAJF,OAKKI,SALL,EAMKV,KANL;AAQD,GAlBuB;AAAA,CAAjB;;;;kBAqBQ;AAAA,SAAQ,oCAAmBJ,SAASgB,IAAT,CAAnB,CAAR;AAAA,C","file":"with_collection_props.js","sourcesContent":["\nimport { composeWithTracker } from 'mantra-core';\nimport _ from 'lodash';\n\nexport const composer = type => ({ context, collectionName, ...props }, onData) => {\n  const {\n    adminContext: {\n      getComponent, publicationUtils, config,\n    },\n  } = context();\n  const { collections } = config;\n  const publications = publicationUtils.getPublications(collectionName);\n  const { collection, schema, ...colConfig } = collections[collectionName];\n  const Component = getComponent({ collectionName, type });\n  onData(null, {\n    Component,\n    collection,\n    schema: schema || _.result(collection, 'simpleSchema'),\n    publications,\n    ...colConfig,\n    ...props, // allow override\n  });\n};\n\n\nexport default type => composeWithTracker(composer(type));\n"]}