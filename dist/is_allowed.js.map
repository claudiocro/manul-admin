{"version":3,"sources":["../src/is_allowed.js"],"names":["adminConfig","collections","allowRules","globalAllowRules","collectionName","userId","rules","concat","allowed"],"mappings":";;;;;;;;;;;;kBAEe,UAACA,WAAD,EAAiB;AAAA,MACtBC,WADsB,GAC6BD,WAD7B,CACtBC,WADsB;AAAA,8BAC6BD,WAD7B,CACTE,UADS;AAAA,MACGC,gBADH,yCACsB,EADtB;;AAE9B,SAAO,UAACC,cAAD,EAAiBC,MAAjB,EAA4B;AAAA,gCACLJ,YAAYG,cAAZ,CADK,CACzBF,UADyB;AAAA,QACzBA,UADyB,yCACZ,EADY;;AAEjC,QAAMI,QAAQH,iBAAiBI,MAAjB,CAAwBL,UAAxB,CAAd;AACA,WAAO,oBAAOI,KAAP,EAAc;AAAA,aAAWE,QAAQH,MAAR,CAAX;AAAA,KAAd,CAAP;AACD,GAJD;AAKD,C","file":"is_allowed.js","sourcesContent":["import _ from 'lodash';\n\nexport default (adminConfig) => {\n  const { collections, allowRules: globalAllowRules = [] } = adminConfig;\n  return (collectionName, userId) => {\n    const { allowRules = [] } = collections[collectionName];\n    const rules = globalAllowRules.concat(allowRules);\n    return _.some(rules, allowed => allowed(userId));\n  };\n};\n"]}