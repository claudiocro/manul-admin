{"version":3,"sources":["../../src/utils/csv.js"],"names":[],"mappings":";;;;;;;;;;sBAAc,QAAQ;;;;yBACL,WAAW;;;;yBACL,YAAY;;;;;;;;;;;;AAYnC,IAAM,WAAW,GAAG,SAAd,WAAW,CAAI,IAA6G,EAAK;MAAhH,QAAQ,GAAV,IAA6G,CAA3G,QAAQ;MAAE,IAAI,GAAhB,IAA6G,CAAjG,IAAI;MAAE,YAAY,GAA9B,IAA6G,CAA3F,YAAY;MAAE,IAAI,GAApC,IAA6G,CAA7E,IAAI;oBAApC,IAA6G,CAAvE,MAAM;MAAN,MAAM,+BAAG,KAAK;0BAApD,IAA6G,CAAvD,YAAY;MAAZ,YAAY,qCAAG,EAAE,SAAS,EAAE,GAAG,EAAE;uBAAvF,IAA6G,CAApB,SAAS;MAAT,SAAS,kCAAG,MAAM;;;;;AAI9H,MAAM,QAAQ,GAAG,oBAAE,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC;WAAM,SAAS;GAAA,CAAC,CAAC,CAAC;AAC9D,MAAM,OAAO,GAAG,YAAY,IAAI,IAAI,CAAC;AACrC,MAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,UAAA,KAAK;WAAK,oBAAE,MAAM,cAAM,QAAQ,EAAK,KAAK,EAAG;GAAC,CAAC,CAAC;;AAE5E,MAAM,GAAG,GAAG,uBAAK,OAAO,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,EAAE,YAAY,CAAC,CAAC;AAC9E,yBAAO,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,EAAE,0BAA0B,EAAE,CAAC,EAAK,QAAQ,WAAQ,MAAM,CAAC,CAAC;CACjG,CAAC;;qBAEa,EAAE,WAAW,EAAX,WAAW,EAAE","file":"csv.js","sourcesContent":["import _ from 'lodash';\nimport Papa from 'papaparse';\nimport { saveAs } from 'file-saver';\n\n/**\ncreate a csv-file in the browser from the given data\n\ndata: Array of documents\nkeys: all keys of every document that should be included\nfilename: the filename of the resulting csv-file\ncolumnTitles: the column titles on the first row\nuseBom: whether to include a UTF-16 byte order mark\nparseOptions: options for papaparse\n**/\nconst exportAsCsv = ({ filename, keys, columnTitles, data, useBom = false, parseOptions = { delimiter: ';' }, nullValue = 'NULL' }) => {\n  // we encode missing values with \"NULL\"\n  // because CSV has no concept of null/missing values\n  // good read: http://www.garretwilson.com/blog/2009/04/23/csvnull.xhtml\n  const defaults = _.zipObject(keys, keys.map(() => nullValue));\n  const columns = columnTitles || keys;\n  const dataPadded = data.map(entry => (_.values({ ...defaults, ...entry })));\n\n  const csv = Papa.unparse({ fields: columns, data: dataPadded }, parseOptions);\n  saveAs(new window.Blob([csv], { type: 'text/plain;charset=utf-8' }), `${filename}.csv`, useBom);\n};\n\nexport default { exportAsCsv };\n"]}